Данный скрипт является свободным программным обеспечением, распространяющимся по лицензии MIT.
Копия лицензии: https://opensource.org/licenses/MIT

Copyright (c) 2024 Otto
Автор: Otto
Версия: 29.06.24
GitHub страница:  https://github.com/Otto17/DAVrun
GitFlic страница: https://gitflic.ru/project/otto/davrun

г. Омск 2024



Скрипт настройке WebDAV с SSL на Linux сервере + базовая защита от перебора паролей.

ПОДРАЗУМЕВАЕТСЯ, ЧТО У ВАС УЖЕ УСТАНОВЛЕН ЧИСТЫЙ ДИСТРИБУТИВ Debian или Ubuntu Sever (либо другой совместимый по командам в скрипте дистрибутив).

Порядок установки через SSH:
1) Копируем скрипт "install_WebDAV.sh" в домашнюю директорию пользователя любым способом (я использую программу WinSCP);
2) Открываем "nano install_WebDAV.sh" и редактируем поля в пункте # -/-/-/- НАСТРОЙКИ -/-/-/- # (логин, пароль, данные сертификата. макс. кол-во подключений к серверу и если нужно добавляем ip адреса для исключения в Fail2Ban), затем сохраняем Ctrl+O и Enter и выходим Ctrl+X;
P.S. Нельзя использовать в логине или пароле спецсимволы !#$%&()*+./:;=<>?@[\]^`{|}~'\, это может привести к ошибке в скрипте, непредсказуемому поведению Apache, а так же к возможным уязвимостям. Удобно настраиваемый генератор паролей "https://www.roboform.com/ru/password-generator"

3) Делаем исполняемым "chmod +x install_WebDAV.sh";
4) запускаем "sudo ./install_WebDAV.sh" и ждём;
5) Готово, можно удалить скрипт "rm install_WebDAV.sh".

Скрипт проверил на чисто установленных системах: Ubuntu 22.04, Ubuntu Server 24.04 и Debian 12.5.

P.S. Для Дебиана нужно сначала установить sudo (если не было выбрано окружение рабочего стола Debian при установки системы), добавить пользователя в группу sudo и перезагрузиться:
1) su
2) apt install sudo
3) sudo usermod -aG sudo [тут имя пользователя]
4) systemctl reboot
5) Проверяем например командой "sudo apt update"
6) Узнать IP адрес можно командой "ip a"
7) Далее по инструкции скрипта...


Так же не забываем изменить настройки SSH под свои нужны (к примеу запретить вход от root, ограничить доступ к SSH только с определённых IP).
